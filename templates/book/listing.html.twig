{% extends 'base.html.twig' %}

{% block title %}
	{{"Task list"|trans}}
{% endblock %}
{% block stylesheets %}
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.css"/>

{% endblock %}

{% block body %}

	<div class="example-wrapper">
		<h2>{{'Book'|trans}}</h2>
		<table id="myTable" class="display">
			<thead>
				<th>{{"Title"|trans}}</th>
				<th>{{"Author"|trans}}</th>
				<th>{{"Summary"|trans}}</th>
				<th>{{"release_date"|trans}}</th>
				<th>{{"Category"|trans}}</th>
				<th>{{"forChild"|trans}}</th>
				<th>{{"isTaken"|trans}}</th>
				<th>{{"Client"|trans}}</th>
				<th></th>
				<th></th>
				<th></th>
			</thead>
			<tbody>
				{% for book in books %}
					<tr>
						<td>{{book.getTitle()}}</td>
						<td>{{book.getAuthor()}}</td>
						<td>{{book.getSummary()}}</td>
						<td>{{book.getReleaseDate()|date("d-M-Y","Europe/Paris")}}</td>
						<td>{{book.getCategory()}}</td>
						<td>
							{% if book.getForChild() %}
								ᶘ ᵒᴥᵒᶅ
							{% else %}
								( ͡° ͜ʖ ͡°)
							{% endif %}
						</td>
						<td>
							{% if book.getAvailable() %}
								{{'Available'|trans}}
							{% else %}
								{{"Taken"|trans}}
							{% endif %}
						</td>
						<td>
							{% if book.getClient() %}
								{{book.getClient().getFirstName}}
							{% endif %}
						</td>
						<td>
							{% if book.getAvailable() %}
								<a class="btn btn-primary" href={{path("client_select", {"id" : book.getId()} )}}>{{'Borrow'|trans}}</a>
							{% else %}
								<button class="btn btn-primary disabled">{{'Borrow'|trans}}</button>
							{% endif %}
						</td>
						<td>
							<a class="btn btn-success" href="./edit/{{book.getId()}}">{{'Edit'|trans}}</a>
						</td>
						<td>
							<a class="btn btn-danger" href="./delete/{{book.getId()}}"=>{{'Delete'|trans}}</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<a class="btn btn-primary" href="./create"=>{{'Create book'|trans}}</a>
	</div>

</script>{% endblock %}
